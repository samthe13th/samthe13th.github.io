<html>
<head></head>
<body>
    <input id="inp" type='file'>
    <p id="b64"></p>
    <img id="myImage" />
    <canvas id="myCanvas" width="500" height="500"></canvas>
</body>
</html>

<script>
    var mypic = new Image();
    function readFile() {
        if (this.files && this.files[0]) {
            var FR = new FileReader();
            FR.addEventListener("load", function (e) {
               // document.getElementById("myImage").src = e.target.result;
               // document.getElementById("b64").innerHTML = e.target.result;
                mypic.src = e.target.result;
                 dothing();
            });
            FR.readAsDataURL(this.files[0]);
        }
    }
    document.getElementById("inp").addEventListener("change", readFile);
    function dothing() {
        var ctx = document.getElementById("myCanvas").getContext("2d");
        var f = 300 / mypic.width;
        var pwidth = mypic.width * f;
        var pheight = mypic.height * f;
        ctx.drawImage(mypic, 0, 0, pwidth, pheight);
        var idata = ctx.getImageData(50, 50, 10, 10).data;
        console.log(JSON.stringify(idata))
    }
</script>